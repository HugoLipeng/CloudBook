# 重学数据结构-堆和队列

### 什么是优先队列？

- 普通队列：先进先出；后进后出
- 优先队列：出队顺序和入队顺序无关；和优先级相关

### 为什么使用优先队列？

**动态** ，需要动态决定当前优先处理的任务

### 优先队列算法复杂度

|                         |  入队   | 出队(拿出最大元素) |
| :---------------------: | :-----: | :----------------: |
| 普通线性结构-即数组相关 |  O(1)   |        O(n)        |
| 顺序线性结构-即链表相关 |  O(n)   |        O(1)        |
|           堆            | O(logn) |      O(logn)       |



## 堆

### 堆的基本结构



### 二叉堆 BinaryHeap

![image-20200925084618150](https://tva1.sinaimg.cn/large/007S8ZIlly1gj2luumi0rj30gs0bn3yw.jpg)

- 二叉堆是一颗完全二叉树 **(完全二叉树指将一堆元素按照树的形式去排列，从左到右，深度为h-1层为满的二叉树)**
- 堆中某个节点的值总是不大于其父节点的值，即根节点值最大，也就是最大堆



### 代码实现







### 元素的取出和 Sift Down





### Hapify和 replace

**replace：**取出堆中最大元素后，再放出一个最大元素

**实现：** 可以先 extractMax，再 add,两次 O(logn) 的操作

**实现：**直接将堆顶元素替换以后 Sift Down，一次 O(logn)的操作



**heapify:** 将任意数组整理成堆的形状

