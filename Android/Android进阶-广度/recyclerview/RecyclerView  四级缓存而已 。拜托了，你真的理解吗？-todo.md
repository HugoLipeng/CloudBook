# RecyclerView ? 四级缓存而已 。拜托了，你真的理解吗？

RecyclerView 是我们日常开发中必不可少的一个组件，可以说，在2021的今天，RecyclerView已经成为了我们基础的列表组件，无论是扩展而来的ViewPager2,还是更多用途，理解RecyclerView的设计都对我们直观重要。

## 自问自答

我们来模拟一个面试场景？

- 面试官：小瓜，我看你这里写了，阅读过RecyclerView的源码，那你讲讲你对RecyclerView的理解？
- 小瓜：RecyclerView啊，xxx,就是一个四级缓存，别人也有人说三级缓存，巴拉巴拉巴拉。。。，开始[背]方法xxxx
- 面试官：不错，[记得]很好，那你给我讲讲为什么要存在四级？1级不行吗？
- 小瓜：肯定是为了性能啊。
- 面试官：具体一点，谈谈你的理解。
- 小瓜：e.....m,巴拉巴拉
- 面试官：好吧，那你说一下RecyclerView的分层设计?
- 小瓜: e,RecyclerView的设计很解耦，每个部分都做到了解耦....e...m
- 面试官: 具体一点，谈一下你的理解?
- 小瓜：e....
- 面试官：换个方式，如果让你设计一个RecycleView，你会怎么设计它？
- 小瓜：e...
- 面试官：好了我们今天就到这里吧，等通知吧。

如果看到最后，你没法完整回答上述问题 ，那么本篇将对你有所帮助。

我个人是很反感在讲RecyclerView时，不假思索的说出三级或者四级缓存这样的话语，或许可能有些人看过源码，但是大多数人都仍存在于简单听说，看过别人的图的阶段。就比如我 [ 🤡竟是我自己 ],没错，我很讨厌这样的自己，不懂装懂！



## 求知

在讲一个技术组件之前，我们先来了解一下，为什么？

- ViewHolder是什么?
- 为什么RecyclerView这么强大，它的缓存是如何做的？
- RecyclerView的分层设计？
- LayoutManager是干什么的，它和RecyclerView的关系是什么？
- ItemDecoration 为什么能用来画分割线？

## 

## 背景

RecyclerView可以轻松且高效的展示大量数据，并且支持定义每个列表项的外观，而RecyclerView库会根据需要动态创建元素。也就是说，RecyclerView会回收单个的元素，当列表滚动出屏幕时，RecyclerView不会销毁其视图，相反，对于屏幕上滚动的新列表重用该视图。

简单来说，RecyclerView 就是一个 **为有限的屏幕提供大量数据的高性能灵活View**



